version: "3.0"

rules:

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Start conversation
  steps:
  - intent: greet
  - action: utter_greet

- rule: Start travel conversation
  steps:
  - intent: wanderlust
  - action: utter_offer_travel_offer

#- rule: Activate form 1
 # steps:
 #   - intent: one_city
  #  - action: city_form1
 # - - action: utter_ask_for_city_names
  #  - active_loop: city_form1

#- rule: Submit 1 city
#  condition:
#  - active_loop: city_form1
#  steps:
#  - action: city_form1
#  - active_loop: null
# - slot_was_set:
 #   - requested_slot: null
#  - action: utter_submit_city1

- rule: Always ask for more help
  steps:
  - intent: to_thank
  - action: utter_ask_for_more_help

- rule: Packing list
  steps:
  - intent: packing_list
  - action: utter_packing_list

- rule: Activate form for one city
  steps:
  - intent: one_city
  - action: utter_ask_for_city_names
  - action: city_form1
  - active_loop: city_form1
  - slot_was_set:
      - requested_slot: first_city
  - active_loop: null
  - action: utter_submit_city1

- rule: Submit form for one city
  condition:
    - active_loop: city_form1
  steps:
    - action: city_form1
    - active_loop: null
    - slot_was_set:
        - requested_slot: null
    - action: utter_submit_city1


- rule: Activate form for two cities
  steps:
  - intent: two_cities
  - action: utter_ask_for_city_names
  - action: city_form2
  - active_loop: city_form2

- rule: Submit form for two city
  condition:
    - active_loop: city_form2
  steps:
    - action: city_form2
    - active_loop: null
    - slot_was_set:
        - requested_slot: null
    - action: utter_submit_city2